(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{8585:(e,t,r)=>{Promise.resolve().then(r.bind(r,84783))},17671:(e,t,r)=>{"use strict";r.d(t,{o:()=>a});var s=r(95155);function a(e){let{children:t}=e;return(0,s.jsx)("div",{className:"typography",children:t})}},18714:(e,t,r)=>{"use strict";r.d(t,{ChatStorageProvider:()=>i,R:()=>n});var s=r(95155),a=r(12115);let n=(0,a.createContext)({chatStorage:null,setChatStorage:()=>{}});function i(e){let{children:t}=e,[r,i]=(0,a.useState)(null);return(0,s.jsx)(n.Provider,{value:{chatStorage:r,setChatStorage:i},children:t})}},23925:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var s=r(95155),a=r(12115),n=r(35695),i=r(99708),l=r(14549),o=r(53999);let c=a.forwardRef((e,t)=>{let{...r}=e;return(0,s.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...r})});c.displayName="Breadcrumb";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("ol",{ref:t,className:(0,o.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",r),...a})});d.displayName="BreadcrumbList";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("li",{ref:t,className:(0,o.cn)("inline-flex items-center gap-1.5",r),...a})});u.displayName="BreadcrumbItem";let m=a.forwardRef((e,t)=>{let{asChild:r,className:a,href:l,...c}=e,d=(0,n.useRouter)(),u=r?i.Slot:"a";return(0,s.jsx)(u,{ref:t,href:l,onClick:e=>{l&&l.startsWith("/")&&(e.preventDefault(),d.push(l))},className:(0,o.cn)("transition-colors hover:text-foreground",a),...c})});m.displayName="BreadcrumbLink";let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,o.cn)("font-normal text-foreground",r),...a})});f.displayName="BreadcrumbPage";let x=e=>{let{children:t,className:r,...a}=e;return(0,s.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,o.cn)("[&>svg]:size-3.5",r),...a,children:null!=t?t:(0,s.jsx)(l.xCi,{})})};function h(e){let{paths:t}=e;return(0,s.jsx)("div",{className:"pb-5",children:(0,s.jsx)(c,{children:(0,s.jsxs)(d,{children:[(0,s.jsx)(u,{children:(0,s.jsx)(m,{href:"/",children:"Articles"})}),t.map((e,r)=>{let n="/articles?name=".concat(t.slice(0,r+1).join("/"));return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(x,{}),(0,s.jsx)(u,{children:r<t.length-1?(0,s.jsx)(m,{href:n,className:"a",children:g(e)}):(0,s.jsx)(f,{className:"b",children:g(e)})})]},e)})]})})})}function g(e){return e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}x.displayName="BreadcrumbSeparator"},31035:(e,t,r)=>{"use strict";r.d(t,{f:()=>a});let s=Date.now();function a(e){let t=s-e;return t<36e5?"".concat(Math.max(1,Math.floor(t/6e4)),"m ago"):t<864e5?"".concat(Math.floor(t/36e5),"h ago"):t<6048e5?"".concat(Math.floor(t/864e5),"d ago"):new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}},53999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(52596),a=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.A)(t))}},84783:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(95155),a=r(12115),n=r(35695),i=r(92604),l=r(23925),o=r(18714),c=r(97920),d=r(17671),u=r(31035),m=r(14549);let f=e=>{let{message:t,setReplyingMessage:r}=e,a=t.senderAlias||t.sender;return(0,s.jsxs)("div",{className:"flex items-center gap-2 border border-gray-300 bg-gray-100 p-2",children:[r&&(0,s.jsx)(m.SXS,{className:"h-8 w-8 cursor-pointer rounded-full p-1 text-red-500 hover:bg-red-200",onClick:()=>r(null)}),(0,s.jsxs)("span",{className:"text-gray-500",children:["Reply to ",(0,s.jsx)("strong",{children:a}),(0,s.jsx)("br",{}),t.message]})]})},x=e=>{let{message:t,parentMessage:r,setReplyingMessage:a}=e,n=t.senderAlias||t.sender;return(0,s.jsxs)("li",{className:"flex cursor-pointer flex-col gap-2 border-x border-t px-3 py-3 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>{a(t)},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("strong",{children:n}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:(0,u.f)(1e3*t.timestamp)})]}),r&&(0,s.jsx)(f,{message:r}),t.message]})};var h=r(13568),g=r(97168);let p=e=>{let{sendMessage:t,changeAlias:r,getAlias:n,isSending:i}=e,[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{d(await n())})()},[n]);let u=async()=>{await t(l),o("")},f=async()=>{if(!c.trim())return void h.Ay.error("Alias cannot be empty");await r(c)};return(0,s.jsxs)("div",{className:"flex items-end gap-2",children:[(0,s.jsx)("input",{type:"text",className:"w-1/6 rounded-md border border-black px-4 py-2",placeholder:"Alias",value:c,onChange:e=>d(e.target.value),onKeyDown:async e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),await f())}}),(0,s.jsxs)("div",{className:"relative grid grow","data-replicated-value":l+" ",children:[(0,s.jsx)("textarea",{className:"font-inherit absolute inset-0 resize-none overflow-hidden whitespace-pre-wrap rounded-md border border-black px-4 py-2",placeholder:"Message",value:l,onChange:e=>o(e.target.value),onKeyDown:async e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),await u())}}),(0,s.jsx)("div",{className:"font-inherit invisible whitespace-pre-wrap rounded-md border border-black px-4 py-2","aria-hidden":"true",children:l+" "})]}),(0,s.jsx)("button",{className:(0,g.r)({variant:"default",size:"default"}),onClick:u,disabled:i,children:i?(0,s.jsx)("span",{className:"text-sm",children:"..."}):(0,s.jsx)(m.Qv8,{className:"h-5 w-5"})})]})};function v(){let{esName:e}=(0,a.useContext)(c.o),[t,r]=(0,a.useState)([]),[u,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!0),[v,b]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),{chatStorage:N}=(0,a.useContext)(o.R),w=(0,n.useSearchParams)().get("name"),S=(0,a.useRef)(null),k=()=>{var e;null==(e=S.current)||e.scrollIntoView({behavior:"smooth"})};async function C(e){m(!0),await N.sendChatMessage(w,e,null==y?void 0:y.id),m(!1),j(null)}async function A(e){await N.setChatAlias(e)}async function E(){return N&&await N.getAlias()||""}if((0,a.useEffect)(()=>{k()},[t]),(0,a.useEffect)(()=>{N&&(console.log("Listening to new messages..."),(async()=>{await N.listenToNewMessages(w,e=>{r(t=>[...t,e])})})())},[w,N]),(0,a.useEffect)(()=>{if(!N)return void g(!0);!async function(){try{let e=await N.getChatMessages(w);r(e),g(!1)}catch(e){console.error("Error fetching messages:",e),b(!0)}}()},[w,N]),v)(0,n.notFound)();else if(h)return(0,s.jsx)(i.A,{title:"Loading chat...",desc:"Fetching ".concat(w," from ").concat(e)});return(0,s.jsx)("div",{className:"mb-5 flex items-start gap-14",children:(0,s.jsxs)("div",{className:"flex-[3] pt-10",children:[(0,s.jsx)(l.A,{paths:[w,"chat"]}),(0,s.jsx)(d.o,{children:(0,s.jsx)("h1",{className:"-mt-2 text-3xl",children:w})}),(0,s.jsxs)("ul",{className:"mb-4 flex-grow overflow-y-auto shadow",children:[t.sort((e,t)=>e.timestamp<t.timestamp?-1:1).map(e=>(0,s.jsx)(x,{message:e,parentMessage:e.parentId?t.find(t=>t.id===e.parentId):void 0,setReplyingMessage:j},e.id)),(0,s.jsx)("div",{ref:S})]}),0===t.length&&(0,s.jsx)("div",{className:"text-center text-gray-500",children:"No messages yet. Be the first to send a message!"}),y&&(0,s.jsx)(f,{message:y,setReplyingMessage:j}),(0,s.jsx)(p,{sendMessage:C,changeAlias:A,getAlias:E,isSending:u})]})})}},92604:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(95155);function a(e){let{title:t,desc:r}=e;return(0,s.jsxs)("div",{className:"flex min-h-[82vh] flex-col items-center justify-center px-2 py-8 text-center",children:[(0,s.jsx)("h1",{className:"mb-4 text-4xl font-bold sm:text-7xl",children:t}),(0,s.jsx)("p",{className:"mb-8 max-w-[600px] text-foreground sm:text-base",children:r})]})}},97168:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>o});var s=r(95155),a=r(12115),n=r(99708),i=r(74466),l=r(53999);let o=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-9 w-9",xs:"h-7 rounded-md px-2"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...d}=e,u=c?n.Slot:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:r})),ref:t,...d})});c.displayName="Button"},97920:(e,t,r)=>{"use strict";r.d(t,{EcosystemProvider:()=>i,o:()=>n});var s=r(95155),a=r(12115);let n=(0,a.createContext)({isESLoading:!1,setIsESLoading:()=>{},esName:"",setESName:()=>{}});function i(e){let{children:t}=e,[r,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)("Pick an ecosystem");return(0,s.jsx)(n.Provider,{value:{isESLoading:r,setIsESLoading:i,esName:l,setESName:o},children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[150,848,870,441,684,358],()=>t(8585)),_N_E=e.O()}]);