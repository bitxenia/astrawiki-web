(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{52866:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(95155),l=s(6874),n=s.n(l),r=s(97168),c=s(69004),i=s(80614),o=s(12115),x=s(14549),d=s(89852),h=s(99840),m=s(16891),u=s(54147),f=s(62594),p=s(53999),j=s(97920),g=s(63949);function N(){let[e,t]=(0,o.useState)(""),[s,l]=(0,o.useState)(!1),[n,c]=(0,o.useState)(!1),[i,N]=(0,o.useState)(0),[w,v]=(0,o.useState)(!1),[b,y]=(0,o.useState)([]),{isESLoading:k}=(0,o.useContext)(j.o),{storage:C}=(0,o.useContext)(g.h);async function S(){if(!C)return;c(!0),0===i&&y([]);let{results:t,hasMore:s}=await (0,f.M_)(e,C,i);v(s),y(e=>e.concat(t)),c(!1)}(0,o.useEffect)(()=>{N(0)},[e]);let E=(0,f.sg)(async()=>{e.length<3&&e.length>0?v(!1):await S()},300);return(0,o.useEffect)(()=>{(async()=>{e.length>0&&e.length<3?(y([]),v(!1)):E()})()},[e,C,i]),(0,o.useEffect)(()=>{let e=e=>{if(e.ctrlKey&&"k"===e.key&&!k&&(e.preventDefault(),l(!0)),s&&"Enter"===e.key&&b.length>2){let e=b[0];"href"in e&&(window.location.href="/articles".concat(e.href),l(!1))}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[s,b,k]),(0,a.jsx)("div",{children:(0,a.jsxs)(h.lG,{open:s,onOpenChange:e=>{l(e),e||setTimeout(()=>t(""),200)},children:[(0,a.jsx)(h.zM,{asChild:!0,children:(0,a.jsxs)("div",{className:"relative max-w-md flex-1 cursor-pointer",children:[(0,a.jsx)(x.qbB,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-neutral-500 dark:text-neutral-400"}),(0,a.jsx)(d.p,{className:"h-9 w-full rounded-md border bg-muted pl-10 pr-4 shadow-sm md:w-full",placeholder:"Search articles...",type:"search"}),(0,a.jsxs)("div",{className:"absolute right-2 top-1/2 hidden -translate-y-1/2 items-center gap-0.5 rounded-sm bg-zinc-200 p-1 font-mono text-xs font-medium dark:bg-neutral-700 sm:flex",children:[(0,a.jsx)(x.fA1,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"k"})]})]})}),(0,a.jsxs)(h.Cf,{className:"top-[45%] max-w-[650px] p-0 sm:top-[38%]",children:[(0,a.jsx)(h.L3,{className:"sr-only",children:"Search"}),(0,a.jsx)(h.c7,{children:(0,a.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"Search documents...",autoFocus:!0,className:"h-14 border-b bg-transparent px-4 text-[15px] outline-none"})}),e.length>0&&e.length<3&&(0,a.jsx)("p",{className:"text-warning mx-auto mt-2 text-sm",children:"Please enter at least 3 characters."}),!n&&0===b.length&&e.length>=3&&(0,a.jsxs)("p",{className:"mx-auto mt-2 text-sm text-muted-foreground",children:["No results found for"," ",(0,a.jsx)("span",{className:"text-primary",children:'"'.concat(e,'"')})]}),(0,a.jsxs)(m.F,{className:"max-h-[350px]",children:[(0,a.jsxs)("div",{className:"flex flex-col items-start overflow-y-auto px-1 pb-4 pt-1 sm:px-3",children:[b.map(e=>(0,a.jsx)(h.HM,{asChild:!0,children:(0,a.jsx)(u.A,{className:(0,p.cn)("flex w-full flex-col gap-0.5 rounded-sm p-3 text-[15px] hover:bg-neutral-100 dark:hover:bg-neutral-900"),href:"/articles".concat(e.href),children:(0,a.jsxs)("div",{className:"flex h-full w-fit items-center gap-x-2",children:[(0,a.jsx)(x.hVg,{className:"h-[1.1rem] w-[1.1rem]"})," ",e.title]})})},e.href)),w&&(0,a.jsx)("button",{className:(0,r.r)({variant:"secondary",size:"sm"}),onClick:()=>N(e=>e+1),children:"Load more"})]}),n&&(0,a.jsx)("p",{className:"mx-auto mt-2 text-sm text-muted-foreground",children:"Fetching articles..."})]})]})]})})}function w(){let{storage:e}=(0,o.useContext)(g.h);return(0,a.jsxs)("div",{className:"flex min-h-[86.5vh] flex-col items-center justify-center px-2 py-8 text-center",children:[(0,a.jsx)("h1",{className:"mb-4 text-4xl font-bold sm:text-7xl",children:"Bitxenia"}),(0,a.jsx)("h2",{className:"mb-4 text-2xl font-bold sm:text-4xl",children:"Knowledge Repository"}),(0,a.jsx)("div",{className:"mb-16",children:(0,a.jsx)(i.A,{})}),e&&(0,a.jsxs)("div",{className:"flex items-center gap-5",children:[e.isSearchOptimized()?(0,a.jsx)(N,{}):(0,a.jsx)(c.A,{}),(0,a.jsx)("span",{className:"font-thin",children:"or"}),(0,a.jsx)(n(),{href:"/articles/new/",className:(0,r.r)({variant:"default",size:"sm"}),rel:"noopener noreferrer","aria-label":"Create a new article",children:"Create"})]})]})}},91574:(e,t,s)=>{Promise.resolve().then(s.bind(s,52866))}},e=>{var t=t=>e(e.s=t);e.O(0,[150,268,848,874,870,51,355,420,441,684,358],()=>t(91574)),_N_E=e.O()}]);